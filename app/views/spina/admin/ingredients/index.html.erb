<%= render Spina::UserInterface::HeaderComponent.new do |header| %>
  <% header.actions do %>
    <%= render Spina::UserInterface::TranslationsComponent.new(@account, label: @locale.upcase) %>
  <% end %>
<% end %>
<% @ingredients.each do |ingredient| %>
  <div class="py-4 p-8">
    <div class="text-gray-400 text-sm"><%= ingredient.name %></div>
    <%= form_with model: ingredient, url: spina.admin_ingredient_path(ingredient), id: ingredient.object_id do |f| %>
      <div class="mt-6">
        <label class="block text-sm leading-5 font-medium text-gray-700"><%= f.object.title %></label>
        <div class="text-gray-400 text-sm"><%= f.object.hint %></div>
        <div class="mt-1">
          <%= f.text_field :name, class: "form-input ll max-w-5xl sm:text-sm sm:leading-5" %>
        </div>
      </div>
      <div class="mt-6" data-controller="unique-id" data-unique-id="<%= f.object.object_id %>">
        <label class="block text-sm leading-5 font-medium text-gray-700"><%= f.object.title %></label>
        <div class="text-gray-400 text-sm"><%= f.object.hint %></div>
        <div class="mt-1 relative">
          <%= f.hidden_field :description, id: "#{f.object.object_id}_input" %>

          <div class="relative form-textarea p-4 pt-0 shadow-sm max-w-5xl" data-controller="trix" id="<%= "insert_#{f.object.object_id}_trix-toolbar" %>" data-action="media-picker:done->trix#insertAttachment">
            <%= render Spina::Forms::TrixToolbarComponent.new("#{f.object.object_id}_trix-toolbar") %>

            <trix-editor class="prose prose-sm focus:outline-none max-w-3xl xl:border-r border-dashed border-gray-200 pr-3" toolbar="<%= f.object.object_id %>_trix-toolbar" input="<%= f.object.object_id %>_input" data-trix-target="editor" data-action="trix-file-accept->trix#preventDefault"></trix-editor>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% end %>
<div class="py-4 p-8">
    <div class="text-gray-400 text-sm">NEW</div>
    <%= form_with model: ingredient, url: spina.admin_ingredient_path(ingredient), id: ingredient.object_id do |f| %>
      <div class="mt-6">
        <label class="block text-sm leading-5 font-medium text-gray-700"><%= f.object.title %></label>
        <div class="text-gray-400 text-sm"><%= f.object.hint %></div>
        <div class="mt-1">
          <%= f.text_field :name, class: "form-input ll max-w-5xl sm:text-sm sm:leading-5" %>
        </div>
      </div>
      <div class="mt-6" data-controller="unique-id" data-unique-id="<%= f.object.object_id %>">
        <label class="block text-sm leading-5 font-medium text-gray-700"><%= f.object.title %></label>
        <div class="text-gray-400 text-sm"><%= f.object.hint %></div>
        <div class="mt-1 relative">
          <%= f.hidden_field :description, id: "#{f.object.object_id}_input" %>

          <div class="relative form-textarea p-4 pt-0 shadow-sm max-w-5xl" data-controller="trix" id="<%= "insert_#{f.object.object_id}_trix-toolbar" %>" data-action="media-picker:done->trix#insertAttachment">
            <%= render Spina::Forms::TrixToolbarComponent.new("#{f.object.object_id}_trix-toolbar") %>

            <trix-editor class="prose prose-sm focus:outline-none max-w-3xl xl:border-r border-dashed border-gray-200 pr-3" toolbar="<%= f.object.object_id %>_trix-toolbar" input="<%= f.object.object_id %>_input" data-trix-target="editor" data-action="trix-file-accept->trix#preventDefault"></trix-editor>
          </div>
        </div>
      </div>
    <% end %>
  </div>
