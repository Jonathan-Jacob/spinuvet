<div class="relative" data-controller="reveal" data-reveal-away-value>
  <button type="button" class="btn btn-default px-3" data-action="reveal#toggle">
    <% if missing_locales.any? %>
      <%= helpers.heroicon("chat-alt", style: :solid, class: 'w-4 h-4 text-orange-600') %>
    <% else %>
      <%= helpers.heroicon("chat-alt", style: :solid, class: 'w-4 h-4 text-gray-300') %>
    <% end %>
  </button>

  <div hidden data-reveal data-transition class="origin-top-left lg:origin-top-right absolute lg:right-0 mt-2 w-56 rounded-md shadow-lg border border-gray-200 z-20">
    <div class="rounded-md bg-white shadow-xs">
      <div class="py-1">
        <% if missing_locales.any? %>
          <% missing_locales.each do |locale| %>
            <%= link_to helpers.spina.edit_admin_page_path(@page, locale: locale), class: "block px-3 py-2 text-sm leading-4 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900 font-medium", data: {turbo_frame: "_top"} do %>
              <div class="text-orange-500">
                <%=t('spina.pages.add_translation', language: '<span class="font-semibold">' + t("spina.languages.#{locale}") + '</span>').html_safe %>
              </div>
            <% end %>
          <% end %>
          <div class="border-b border-gray-200 my-1"></div>
        <% end %>

        <% existing_locales.each do |locale| %>
          <%= link_to helpers.spina.edit_admin_page_path(@page, locale: locale), class: "block px-3 py-2 text-sm leading-4 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900 font-medium", data: {turbo_frame: "_top"} do %>
            <div class="text-gray-700">
              <%=t('spina.pages.edit_translation', language: '<span class="font-semibold">' + t("spina.languages.#{locale}") + '</span>').html_safe %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
